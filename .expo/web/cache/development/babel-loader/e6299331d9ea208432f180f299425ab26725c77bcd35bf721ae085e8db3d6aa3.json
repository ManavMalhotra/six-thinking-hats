{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { SocketManager } from \"../SocketManager\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ParticipantsScreen = function ParticipantsScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    socket = _useState2[0],\n    setSocket = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    userId = _useState4[0],\n    setUserId = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    participants = _useState6[0],\n    setParticipants = _useState6[1];\n  var _useState7 = useState([{}]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    user = _useState8[0],\n    setUser = _useState8[1];\n  if (socket) {\n    socket.onAny(function (event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      console.log(event, args);\n    });\n  }\n  useEffect(function () {\n    var socket = SocketManager.getSocket();\n    setSocket(socket);\n    setUserId(socket.id);\n    socket.on(\"roomData\", function (_ref2) {\n      var users = _ref2.users;\n      for (var i = 0; i < users.length; i++) {\n        console.log(users[i]);\n        users[i].name = users[i].name || \"Anonymous\";\n      }\n    });\n    return function () {\n      socket.off(\"roomJoined\");\n    };\n  }, []);\n  return _jsx(SafeAreaView, {\n    children: _jsxs(View, {\n      children: [_jsx(Text, {\n        children: \"Participants Screen\"\n      }), _jsx(Text, {\n        children: \"Participants in the room:\"\n      }), participants.map(function (participant) {\n        return _jsx(Text, {\n          children: participant.name\n        }, participant.id);\n      })]\n    })\n  });\n};\nexport default ParticipantsScreen;","map":{"version":3,"names":["React","useState","useEffect","Text","View","SafeAreaView","SocketManager","jsx","_jsx","jsxs","_jsxs","ParticipantsScreen","_ref","navigation","_useState","_useState2","_slicedToArray","socket","setSocket","_useState3","_useState4","userId","setUserId","_useState5","_useState6","participants","setParticipants","_useState7","_useState8","user","setUser","onAny","event","_len","arguments","length","args","Array","_key","console","log","getSocket","id","on","_ref2","users","i","name","off","children","map","participant"],"sources":["C:/Users/manav/projects/ironman_client/components/ParticipantsScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Text, View, SafeAreaView } from \"react-native\";\r\nimport { SocketManager } from \"../SocketManager\";\r\n\r\nconst ParticipantsScreen = ({ navigation }) => {\r\n  const [socket, setSocket] = useState(null);\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [participants, setParticipants] = useState([]);\r\n  const [user, setUser] = useState([{}]);\r\n\r\n  if (socket) {\r\n    socket.onAny((event, ...args) => {\r\n      console.log(event, args);\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const socket = SocketManager.getSocket();\r\n    setSocket(socket);\r\n    setUserId(socket.id);\r\n\r\n    // Listen for the roomJoined event\r\n    socket.on(\"roomData\", ({users}) => {\r\n      // Update participants state with the received data\r\n      for (let i = 0; i < users.length; i++) {\r\n        console.log(users[i]);\r\n        users[i].name = users[i].name || \"Anonymous\";\r\n      }\r\n    });\r\n\r\n    // Clean up the event listener when the component unmounts\r\n    return () => {\r\n      socket.off(\"roomJoined\");\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <SafeAreaView>\r\n      <View>\r\n        <Text>Participants Screen</Text>\r\n        <Text>Participants in the room:</Text>\r\n        {participants.map((participant) => (\r\n          <Text key={participant.id}>{participant.name}</Text>\r\n        ))}\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default ParticipantsScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}